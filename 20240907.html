<html><head>
        <meta charset="UTF-8">
        <link rel="stylesheet" type="text/css" href="each.css">
        <meta property="og:title" content="üì∑" />
        <meta property="og:description" content="üì∏" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://slnq.github.io/photos/20240907.html" />
        <meta property="og:image" content="https://slnq.github.io/photos/imgs/20240907.webp" />
        <meta property="og:site_name" content="üì∏" />
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="üì∑" />
        <meta name="twitter:description" content="üì∏" />
        <meta name="twitter:image" content="https://slnq.github.io/photos/imgs/20240907.webp" />
        <meta name="viewport" content="width=device-width,initial-scale=0.8">
		<link href="./imgs/f.ico" rel="icon"></head>
        <body class="bdy">
		<a href="https://slnq.github.io/photos/index.html"><div style="text-align: center;color: #DCDCE0;font-family: serif;font-size: 2.2rem;margin-top: 0.5rem;">Â§èÊûú</div></a>
        <img src="./imgs/20240907.webp" class="photo1"/>
        <div id="caption"></div>
        <script src="https://cdn.rawgit.com/exif-js/exif-js/master/exif.js"></script>
        <script>
            window.onload = function() {
                var element = document.getElementsByClassName('photo1')[0];
                var caption = document.getElementById('caption');
                if (element) {
                    var src = element.src;
                    var fileExtension = src.split('.').pop().toLowerCase();
                    if (fileExtension === 'jpeg' || fileExtension === 'jpg') {
                        EXIF.getData(element, function() {
                            var userComment = EXIF.getTag(this, 'UserComment');
                            if (userComment) {
                                var trimmedComment = userComment.slice(8);
                                var decodedComment = decodeUserComment(trimmedComment);
                                caption.innerHTML += decodedComment;
                            }
                        });
                    } else if (fileExtension === 'webp') {
                        fetch(src)
                            .then(response => response.arrayBuffer())
                            .then(buffer => parseXmpMetadata(new Uint8Array(buffer)))
                            .then(xmpData => {
                                var description = extractDescription(xmpData);
                                if (description) {
                                    caption.innerHTML += description;
                                }
                            })
                            .catch(error => console.error('Error fetching WebP metadata:', error));
                    }
                }
            };
            function decodeUserComment(comment) {
                try {
                    var decoder = new TextDecoder('utf-16le');
                    return decoder.decode(new Uint8Array(comment));
                } catch (e) {
                    return comment;
                }
            }
            function parseXmpMetadata(uint8Array) {
                var decoder = new TextDecoder('utf-8');
                var xmpString = decoder.decode(uint8Array);
                return xmpString;
            }
            function extractDescription(xmpData) {
                var descriptionMatch = xmpData.match(/<dc:description>(.*?)<\/dc:description>/);
                return descriptionMatch ? descriptionMatch[1] : '';
            }
        </script>
        </body></html>